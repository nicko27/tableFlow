/* Bouton de masquage */
.tableflow-hide-button {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    padding: 6px 12px;
    background: var(--button-background, #ffffff);
    border: var(--button-border, 1px solid #ddd);
    border-radius: var(--button-border-radius, 4px);
    cursor: pointer;
    transition: var(--transition, all 0.2s ease);
}

.tableflow-hide-button:hover {
    background: var(--button-hover-background, #f5f5f5);
}

.tableflow-hide-button:active {
    background: var(--button-active-background, #e0e0e0);
}

/* Menu de sélection */
.tableflow-hide-menu {
    position: absolute;
    z-index: 1000;
    min-width: 200px;
    max-height: var(--menu-max-height, 400px);
    background: var(--menu-background, #ffffff);
    border: var(--menu-border, 1px solid #ddd);
    border-radius: var(--menu-border-radius, 4px);
    box-shadow: var(--menu-shadow, 0 2px 8px rgba(0,0,0,0.1));
    overflow-y: auto;
}

/* Items du menu */
.tableflow-hide-menu-item {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 8px 12px;
    cursor: pointer;
    transition: var(--transition, all 0.2s ease);
}

.tableflow-hide-menu-item:hover {
    background: var(--item-hover-background, #f5f5f5);
}

.tableflow-hide-menu-item.tableflow-hide-active {
    background: var(--item-active-background, #e3f2fd);
}

/* Checkbox personnalisée */
.tableflow-hide-menu-item input[type="checkbox"] {
    appearance: none;
    width: 16px;
    height: 16px;
    border: 2px solid var(--item-check-color, #2196F3);
    border-radius: 3px;
    position: relative;
    cursor: pointer;
}

.tableflow-hide-menu-item input[type="checkbox"]:checked::before {
    content: '✓';
    position: absolute;
    color: var(--item-check-color, #2196F3);
    font-size: 12px;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
}

/* Colonnes masquées */
.tableflow-hidden {
    display: none !important;
}

/* Support du thème sombre */
@media (prefers-color-scheme: dark) {
    .tableflow-hide-button {
        --button-background: #333333;
        --button-hover-background: #404040;
        --button-active-background: #4d4d4d;
        --button-border: 1px solid #666666;
    }
    
    .tableflow-hide-menu {
        --menu-background: #333333;
        --menu-border: 1px solid #666666;
    }
    
    .tableflow-hide-menu-item {
        color: #ffffff;
    }
    
    .tableflow-hide-menu-item:hover {
        --item-hover-background: #404040;
    }
    
    .tableflow-hide-menu-item.tableflow-hide-active {
        --item-active-background: #1a237e;
    }
}

/* Support responsive */
@media (max-width: 768px) {
    .tableflow-hide-menu {
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        width: 90%;
        max-width: 300px;
    }
    
    .tableflow-hide-button {
        padding: 4px 8px;
    }
}

/* Support RTL */
[dir="rtl"] .tableflow-hide-menu {
    left: auto;
    right: 0;
}

[dir="rtl"] .tableflow-hide-menu-item {
    flex-direction: row-reverse;
}

/* Accessibilité */
.tableflow-hide-button:focus-visible,
.tableflow-hide-menu-item:focus-visible {
    outline: 2px solid var(--item-check-color, #2196F3);
    outline-offset: 2px;
}

/* Animation */
@keyframes menuShow {
    from {
        opacity: 0;
        transform: translateY(-10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.tableflow-hide-menu {
    animation: menuShow 0.2s ease forwards;
}

/* Compteur */
.tableflow-hide-counter {
    font-size: 0.9em;
    color: var(--counter-color, #666666);
    padding: 8px 12px;
    border-top: var(--menu-border, 1px solid #ddd);
    text-align: center;
} 